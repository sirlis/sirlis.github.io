<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="zh-CN" 
  
>
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="深度学习（基础数学知识）" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="本文介绍了机器（深度）学习的基础数学知识，作为后续深入学习的基础。" />
<meta property="og:description" content="本文介绍了机器（深度）学习的基础数学知识，作为后续深入学习的基础。" />
<link rel="canonical" href="http://localhost:4000/posts/deep-learning-basic-math/" />
<meta property="og:url" content="http://localhost:4000/posts/deep-learning-basic-math/" />
<meta property="og:site_name" content="SIRLIS" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-03-05T18:30:19+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="深度学习（基础数学知识）" />
<meta name="twitter:site" content="@none" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-03-10T11:44:04+08:00","datePublished":"2025-03-05T18:30:19+08:00","description":"本文介绍了机器（深度）学习的基础数学知识，作为后续深入学习的基础。","headline":"深度学习（基础数学知识）","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/deep-learning-basic-math/"},"url":"http://localhost:4000/posts/deep-learning-basic-math/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>深度学习（基础数学知识） | SIRLIS
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="SIRLIS">
<meta name="application-name" content="SIRLIS">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/head.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/">SIRLIS</a>
    </div>
    <div class="site-subtitle fst-italic">分享科研和生活的日常</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>首页</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>分类</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>标签</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>归档</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>关于</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/sirlis"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/none"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['lihongjue','buaa.edu.cn'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div
    id="topbar"
    class="container d-flex align-items-center justify-content-between h-100"
  >
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                首页
              </a>
            </span>

          
        
          
        
          
            
              <span>深度学习（基础数学知识）</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      文章
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="搜索..."
      >
    </span>
    <span id="search-cancel">取消</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  




<!-- return -->




<h1 data-toc-skip>深度学习（基础数学知识）</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      发表于
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1741170619"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2025/03/05
</em>

    </span>

    <!-- lastmod date -->
    
    <span>
      更新于
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1741578244"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2025/03/10
</em>

    </span>
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      作者

      <em>
      
        <a href="https://github.com/sirlis">sirlis</a>
      
      </em>
    </span>

    <div>
      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="7369 字"
>
  <em>40 分钟</em>阅读</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>本文介绍了机器（深度）学习的基础数学知识，作为后续深入学习的基础。</p>

<!--more-->

<hr />

<ul>
  <li><a href="#1-矩阵">1. 矩阵</a>
    <ul>
      <li><a href="#11-迹trace">1.1. 迹（trace）</a></li>
      <li><a href="#12-范数">1.2. 范数</a>
        <ul>
          <li><a href="#121-向量范数">1.2.1. 向量范数</a></li>
          <li><a href="#122-矩阵范数">1.2.2. 矩阵范数</a></li>
        </ul>
      </li>
      <li><a href="#13-正交矩阵">1.3. 正交矩阵</a></li>
      <li><a href="#14-矩阵的值域零空间和秩">1.4. 矩阵的值域、零空间和秩</a>
        <ul>
          <li><a href="#141-向量的张成span">1.4.1. 向量的张成（span）</a></li>
          <li><a href="#142-向量的投影">1.4.2. 向量的投影</a></li>
          <li><a href="#143-矩阵的值域range">1.4.3. 矩阵的值域（range）</a></li>
          <li><a href="#144-矩阵的零空间nullspace">1.4.4. 矩阵的零空间（nullspace）</a></li>
          <li><a href="#145-秩-零度定理">1.4.5. 秩-零度定理</a></li>
          <li><a href="#146-矩阵的秩rank">1.4.6. 矩阵的秩（rank）</a></li>
        </ul>
      </li>
      <li><a href="#15-二次型">1.5. 二次型</a>
        <ul>
          <li><a href="#151-定义">1.5.1. 定义</a></li>
          <li><a href="#152-与投影的关系">1.5.2. 与投影的关系</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#2-矩阵的梯度">2. 矩阵的梯度</a>
    <ul>
      <li><a href="#21-多元函数的梯度">2.1. 多元函数的梯度</a></li>
      <li><a href="#22-向量函数的梯度雅可比矩阵">2.2. 向量函数的梯度（雅可比矩阵）</a></li>
      <li><a href="#23-矩阵函数的梯度">2.3. 矩阵函数的梯度</a></li>
      <li><a href="#24-分子布局与分母布局">2.4. 分子布局与分母布局</a>
        <ul>
          <li><a href="#241-分子布局">2.4.1. 分子布局</a></li>
          <li><a href="#242-分母布局">2.4.2. 分母布局</a></li>
        </ul>
      </li>
      <li><a href="#25-向量函数矩阵函数梯度的链式法则">2.5. 向量函数/矩阵函数梯度的链式法则</a>
        <ul>
          <li><a href="#251-基本形式">2.5.1. 基本形式</a></li>
          <li><a href="#252-分子布局下的链式法则">2.5.2. 分子布局下的链式法则</a></li>
          <li><a href="#253-分母布局下的链式法则">2.5.3. 分母布局下的链式法则</a></li>
          <li><a href="#254-举例">2.5.4. 举例</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#3-矩阵的全微分">3. 矩阵的全微分</a>
    <ul>
      <li><a href="#31-多元函数的全微分">3.1. 多元函数的全微分</a></li>
      <li><a href="#32-矩阵函数的全微分">3.2. 矩阵函数的全微分</a></li>
    </ul>
  </li>
</ul>

<h2 id="1-矩阵"><span class="me-2">1. 矩阵</span><a href="#1-矩阵" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="11-迹trace"><span class="me-2">1.1. 迹（trace）</span><a href="#11-迹trace" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>方阵 $\boldsymbol{A}\in \mathbb{R}^{n\times n}$ 的迹定义为对角线元素之和</p>

\[\text{tr}(\boldsymbol{A}) = \sum_{i=1}^n a_{ii}\]

<p>迹有如下性质：</p>

<ul>
  <li>对于 $\boldsymbol{A}\in\mathbb{R}^{n\times n}, \text{tr}(\boldsymbol{A}) = \text{tr}(\boldsymbol{A}^\top)$
    <blockquote>
      <p>方阵的转置不改变对角元素</p>
    </blockquote>
  </li>
  <li>对于 $\boldsymbol{A},\boldsymbol{B}\in\mathbb{R}^{n\times n}, \text{tr}(\boldsymbol{A}+\boldsymbol{B}) = \text{tr}(\boldsymbol{A})+\text{tr}(\boldsymbol{B})$
    <blockquote>
      <p>矩阵的和为各元素加和</p>
    </blockquote>
  </li>
  <li>对于 $\boldsymbol{A}\in\mathbb{R}^{n\times n}, t\in\mathbb{R}, \text{tr}(t\boldsymbol{A}) = t\text{tr}(\boldsymbol{A})$
    <blockquote>
      <p>矩阵与数字相乘是将矩阵中每个元素与该数字相乘</p>
    </blockquote>
  </li>
  <li>对于 $\boldsymbol{A}\in\mathbb{R}^{m\times n},\boldsymbol{B}\in\mathbb{R}^{n\times m}, \text{tr}(\boldsymbol{AB}) = \text{tr}(\boldsymbol{BA})$
    <blockquote>
\[\begin{aligned}
\text{tr} \boldsymbol{A} \boldsymbol{B} &amp; =\sum_{i=1}^{m}(\boldsymbol{A} \boldsymbol{B})_{i i}=\sum_{i=1}^{m}\left(\sum_{j=1}^{n} A_{i j} B_{j i}\right) \\
&amp; =\sum_{i=1}^{m} \sum_{j=1}^{n} A_{i j} B_{j i}=\sum_{j=1}^{n} \sum_{i=1}^{m} B_{j i} A_{i j} \\
&amp; =\sum_{j=1}^{n}\left(\sum_{i=1}^{m} B_{j i} A_{i j}\right)=\sum_{j=1}^{n}(B A)_{j j}=\text{tr} \boldsymbol{B} \boldsymbol{A} .
\end{aligned}\]
    </blockquote>
  </li>
  <li>对于 $\boldsymbol{A},\boldsymbol{B}\in\mathbb{R}^{m\times n}, \text{tr}(\boldsymbol{AB^\top}) = \sum_{i=1}^m\sum_{j=1}^n A_{ij}B_{ij}$
    <blockquote>
      <p>通过观察上一个性质的中间推导过程，将其中 $\boldsymbol{B}$ 的转置带入即可</p>
    </blockquote>
  </li>
  <li>对于 $\boldsymbol{A}\in\mathbb{R}^{m\times n}, \text{tr}(\boldsymbol{AA^\top}) = \sum_{i=1}^m\sum_{j=1}^n \boldsymbol{A}_{ij}^2 = \Vert\boldsymbol{A}\Vert_F^2$
    <blockquote>
      <p>将前述性质推导中的 $\boldsymbol{B}$ 替换为 $\boldsymbol{A}$ 即可，其中定义矩阵的 Frobenius 范数为
\(\Vert\boldsymbol{A}\Vert_F = \sqrt{\sum_{i=1}^m\sum_{j=1}^n \boldsymbol{A}_{ij}^2} = \sqrt{\text{tr}(\boldsymbol{A}^\top \boldsymbol{A})}\)</p>
    </blockquote>
  </li>
</ul>

<h3 id="12-范数"><span class="me-2">1.2. 范数</span><a href="#12-范数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="121-向量范数"><span class="me-2">1.2.1. 向量范数</span><a href="#121-向量范数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>向量范数的含义：测量响亮的“长度”或向量到原点的距离。数学描述为</p>

<p>定义在 $\mathbb{R}^n$ 上的实值函数 $\Vert \cdot \Vert$ 称为向量范数，如果 $\forall \boldsymbol{x},\boldsymbol{x} \in \mathbb{R}^n, k\in \mathbb{R}$ 满足</p>
<ul>
  <li>正定性：$\Vert \boldsymbol{x} \Vert \geq 0$</li>
  <li>齐次性：$\Vert k\boldsymbol{x} \Vert = k\Vert \boldsymbol{x} \Vert$</li>
  <li>满足三角不等式：$\Vert \boldsymbol{x} + \boldsymbol{y} \Vert \leq \Vert \boldsymbol{x} \Vert + \Vert \boldsymbol{y} \Vert$</li>
</ul>

<p>常用范数有</p>

<ul>
  <li>$l_1$范数：
\(\Vert \boldsymbol{x} \Vert_1 = \sum_{i=1}^n |x_i|\)</li>
  <li>$l_2$范数：
\(\Vert \boldsymbol{x} \Vert_2 = \sqrt{\sum_{i=1}^n x_i^2} = \sqrt{\boldsymbol{x}^\top \boldsymbol{x}}\)</li>
  <li>$l_p$范数：
\(\Vert \boldsymbol{x} \Vert_p = \left(\sum_{i=1}^n |x_i|^p\right)^{\frac{1}{p}}\)</li>
  <li>L$\infty$范数：
\(\Vert \boldsymbol{x} \Vert_\infty = \max_{i=1}^n |x_i|\)</li>
</ul>

<h4 id="122-矩阵范数"><span class="me-2">1.2.2. 矩阵范数</span><a href="#122-矩阵范数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>将向量范数推广到矩阵范数有</p>

<ul>
  <li>
    <p>矩阵 1-范数（列和范数），即各列元素绝对值之和的最大值：
\(\Vert \boldsymbol{A} \Vert_1 = \max_{1\leq j\leq n} \sum_{i=1}^m |a_{ij}|\)</p>
  </li>
  <li>
    <p>矩阵 2-范数（谱范数）:
\(\Vert\boldsymbol{A} \Vert_2 = \sqrt{\lambda_{\max}(\boldsymbol{A}^\top \boldsymbol{A})}\)</p>
  </li>
  <li>
    <p>Frobenius 范数：
\(\Vert \boldsymbol{A} \Vert_F = \sqrt{\sum_{i=1}^m \sum_{j=1}^n a_{ij}^2}\)</p>
  </li>
  <li>
    <p>矩阵 $\infty$-范数（行和范数），即各行元素绝对值之和的最大值：
\(\Vert \boldsymbol{A} \Vert_\infty = \max_{1\leq i\leq m} \sum_{j=1}^n |a_{ij}|\)</p>
  </li>
</ul>

<h3 id="13-正交矩阵"><span class="me-2">1.3. 正交矩阵</span><a href="#13-正交矩阵" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>若两向量 $\boldsymbol{x},\boldsymbol{y}$ 满足$\boldsymbol{x}^\top \boldsymbol{y}=0$，则称向量 $\boldsymbol{x},\boldsymbol{y}$ 正交（orthogonal）。</p>

<p>若向量 $\boldsymbol{x}\in\mathbb{R}^n$ 满足 $\Vert\boldsymbol{x}\Vert_2=1$，则称向量 $\boldsymbol{x}$ 是规范的（normalized）。</p>

<p>推广到矩阵，若方阵 $\boldsymbol{U}\in\mathbb{R}^{n\times n}$ 满足所有列向量彼此正交，且所有列向量均规范，则称其为正交矩阵。</p>

<ul>
  <li>
    <p>性质1（非方阵仅满足左半）:
\(\boldsymbol{U}^\top \boldsymbol{U} = \boldsymbol{I} = \boldsymbol{U}\boldsymbol{U}^\top\)</p>
  </li>
  <li>
    <p>性质2（正交矩阵不改变向量的 $l_2$ 范数）:
\(\Vert\boldsymbol{U} \boldsymbol{x}\Vert_2 = \Vert \boldsymbol{x}\Vert_2\)</p>
  </li>
</ul>

<blockquote>
\[\Vert \boldsymbol{U} \boldsymbol{x}\Vert_2 =\sqrt{ (\boldsymbol{U} \boldsymbol{x})^\top \boldsymbol{U} \boldsymbol{x}} = \sqrt{\boldsymbol{x}^\top \boldsymbol{U}^\top\boldsymbol{U} \boldsymbol{x}} = \sqrt{\boldsymbol{x}^\top \boldsymbol{x}}=\Vert \boldsymbol{x}\Vert_2\]
</blockquote>

<ul>
  <li>性质3：$\boldsymbol{U}^\top = \boldsymbol{U}^{-1}$</li>
  <li>性质4：$\det{\boldsymbol{U}} = 1\; or -1$</li>
</ul>

<p>一些重要的矩阵分解涉及到了正交矩阵，包括：</p>

<ul>
  <li>QR分解：$\boldsymbol{A} = \boldsymbol{QR}$，其中 $\boldsymbol{Q}$ 是正交矩阵，$\boldsymbol{R}$ 是上三角矩阵。</li>
  <li>奇异值（SVD）分解：$\boldsymbol{A} = \boldsymbol{U}\boldsymbol{D}\boldsymbol{V}^\top$，其中 $\boldsymbol{U}$ 和 $\boldsymbol{V}$ 是正交矩阵，$\boldsymbol{D}$ 是对角矩阵。</li>
  <li>谱分解：$\boldsymbol{A} = \boldsymbol{U}\boldsymbol{Λ}\boldsymbol{U}^\top$，其中 $\boldsymbol{U}$ 是正交矩阵，$\boldsymbol{Λ}$ 是对角矩阵。</li>
</ul>

<h3 id="14-矩阵的值域零空间和秩"><span class="me-2">1.4. 矩阵的值域、零空间和秩</span><a href="#14-矩阵的值域零空间和秩" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="141-向量的张成span"><span class="me-2">1.4.1. 向量的张成（span）</span><a href="#141-向量的张成span" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>向量的张成（span）是指一组向量通过线性组合所能生成的所有向量的集合。即：</p>

<p>给定向量空间 $ V $ 中的一组向量 $ \boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k $，它们的张成（span）是这些向量的所有线性组合构成的集合，记作：</p>

\[\text{span}\{\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k\} = \{ c_1 \boldsymbol{v}_1 + c_2 \boldsymbol{v}_2 + \dots + c_k \boldsymbol{v}_k \mid c_1, c_2, \dots, c_k \in \mathbb{R} \}\]

<p>其中 $ c_1, c_2, \dots, c_k $ 是标量。</p>

<p>向量的张成是线性代数中描述向量组生成空间的核心概念。它通过线性组合的方式，刻画了向量组所能覆盖的空间范围。</p>

<p>例1：二维空间中的向量</p>

\[\boldsymbol{v}_1 = \begin{bmatrix} 1 \\ 0 \end{bmatrix}，\boldsymbol{v}_2 =\begin{bmatrix} 0 \\ 1 \end{bmatrix}\]

<p>则</p>

\[\text{span}\{\boldsymbol{v}_1, \boldsymbol{v}_2\} = \mathbb{R}^2\]

<p>即这两个向量张成了整个二维空间。</p>

<p>例2：三维空间中的向量</p>

\[\boldsymbol{v}_1 = \begin{bmatrix} 1 \\ 0 \\ 0 \end{bmatrix} , \boldsymbol{v}_2 = \begin{bmatrix} 0 \\ 1 \\ 0 \end{bmatrix}\]

<p>则</p>

\[\text{span}\{\boldsymbol{v}_1, \boldsymbol{v}_2\} = \{ (x, y, 0) \mid x, y \in \mathbb{R} \}\]

<p>张成一个二维（$xy$）平面。</p>

<p>例3：线性相关的向量</p>

\[\boldsymbol{v}_1 = \begin{bmatrix} 1 \\ 2 \end{bmatrix}, \boldsymbol{v}_2 = \begin{bmatrix} 2 \\ 4 \end{bmatrix}\]

<p>则</p>

\[\text{span}\{\boldsymbol{v}_1, \boldsymbol{v}_2\} = \text{span}\{\boldsymbol{v}_1\} = \{ c \begin{bmatrix} 1 \\ 2 \end{bmatrix} \mid c \in \mathbb{R} \}\]

<p>张成的空间退化为一条直线。</p>

<p>向量的张成有如下性质：</p>

<ul>
  <li>向量组的张成是向量空间 $V$ 的一个子空间（特殊情况下是向量空间本身，例1）；</li>
  <li>如果向量组<strong>线性无关</strong>，则他们构成张成空间的一组基；</li>
  <li>张成空间的维度等于向量组的秩（即最大线性无关向量组的个数）。</li>
</ul>

<h4 id="142-向量的投影"><span class="me-2">1.4.2. 向量的投影</span><a href="#142-向量的投影" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>向量 $\boldsymbol{y}\in \mathbb{R}^n$ 在向量 $\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k \in \mathbb{R}^n $ 的张成上的投影定义为：在向量张成空间中与其距离最小的向量</p>

\[\boldsymbol{p} = \text{Proj}(\boldsymbol{y}; {\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k}) = \mathop{\arg\min}\limits_{\boldsymbol{x}\in \text{span}\{\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k\}} \Vert \boldsymbol{y} - \boldsymbol{x} \Vert_2\]

<p>上述投影将 $\boldsymbol{y}$ 分解为两个部分：一个位于该子空间内的向量（即投影向量 $\boldsymbol{p}$），另一个与子空间正交的向量 $\boldsymbol{y}-\boldsymbol{p}$。此时，投影 $\boldsymbol{p}$ 是 $\boldsymbol{y}$ 在子空间 $\mathcal{V}$ 中的最近点，即：</p>

\[\Vert\boldsymbol{y}-\boldsymbol{p}\Vert_2 \leq \Vert\boldsymbol{y}-\boldsymbol{u}\Vert_2 \quad \forall \boldsymbol{u}\in \mathcal{V}\]

<p>上述投影还有两个额外性质：</p>

<p><strong>性质1</strong>：投影 $\boldsymbol{p}$ 是 $\boldsymbol{y}$ 在空间 $V$ 上的正交投影，即 $\boldsymbol{y}-\boldsymbol{p}$ 与 $V$ 中的任意向量正交。</p>

<p><strong>性质2</strong>：如果 $\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k$ 是 $V$ 的一组基（即线性无关），构造矩阵 $\boldsymbol{A}=[\boldsymbol{v}_1, \boldsymbol{v}_2, \dots, \boldsymbol{v}_k] $ 显然是一个满秩矩阵，那么 $\boldsymbol{p}$ 可以表示为</p>

\[\boldsymbol{p} = \boldsymbol{A}(\boldsymbol{A}^\top \boldsymbol{A})^{-1} \boldsymbol{A}^\top \boldsymbol{y}\]

<p>此时 $\boldsymbol{A}^+ = (\boldsymbol{A}^\top \boldsymbol{A})^{-1} \boldsymbol{A}^\top$ 为 $\boldsymbol{A}$ 的 Moore-Penrose 伪逆，有</p>

\[\boldsymbol{p} = \boldsymbol{A}\boldsymbol{A}^+ \boldsymbol{y}\]

<p>当 $\boldsymbol{A}$ 不满秩时，上述公式中的 $(\boldsymbol{A}^\top \boldsymbol{A})^{-1}$ 不成立，此时伪逆 $\boldsymbol{A}^+$ 需要通过其他方法计算（例如奇异值分解，SVD）。在这种情况下，投影矩阵仍然可以表示为 $\boldsymbol{A}\boldsymbol{A}^+$。</p>

<h4 id="143-矩阵的值域range"><span class="me-2">1.4.3. 矩阵的值域（range）</span><a href="#143-矩阵的值域range" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>矩阵的值域（range），也成为列空间（Column Space），是指矩阵 $\boldsymbol{A}$ 的所有列向量的线性组合构成的向量空间（<strong>即列向量的张成</strong>）。换句话说，它是矩阵 $\boldsymbol{A}$ 的列空间（column space），记作 $\text{range}(\boldsymbol{A})$ 或 $\text{col}(\boldsymbol{A})$。</p>

<p>对于矩阵 $\boldsymbol{A} \in \mathbb{R}^{m \times n}$，其值域定义为：</p>

\[\begin{aligned}
\text{range}(\boldsymbol{A}) &amp;= \{ \boldsymbol{A}\boldsymbol{x} \mid \boldsymbol{x} \in \mathbb{R}^n \}\\
&amp;=\{x_1\boldsymbol{a_1} + x_2\boldsymbol{a_2} + \cdots + x_n\boldsymbol{a_n}\vert x_i\in\mathbb{R}\}\\
&amp;=span\{\boldsymbol{a_1}, \boldsymbol{a_2}, \cdots, \boldsymbol{a_n}\}
\end{aligned}\]

<p>值域的维度等于矩阵 $\boldsymbol{A}$ 的秩（rank），记作 $\text{rank}(\boldsymbol{A})$，其同时也是最大的线性无关列向量的个数。</p>

<p>例：设矩阵 $A$ 为：
\(A = \begin{bmatrix}
1 &amp; 2 \\
3 &amp; 4
\end{bmatrix}\)
则 $\text{range}(A)$ 是 $\mathbb{R}^2$ 中的一个子空间，具体为：
\(\text{range}(A) = \text{span}\left\{ \begin{bmatrix} 1 \\ 3 \end{bmatrix}, \begin{bmatrix} 2 \\ 4 \end{bmatrix} \right\}\)</p>

<h4 id="144-矩阵的零空间nullspace"><span class="me-2">1.4.4. 矩阵的零空间（nullspace）</span><a href="#144-矩阵的零空间nullspace" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>矩阵的 <strong>零空间</strong>（Null Space），也称为核空间（Kernel），是指所有满足 $\boldsymbol{A}\boldsymbol{x} = \boldsymbol{0}$ 的向量 $\boldsymbol{x}$ 构成的集合。记作 $\text{null}(\boldsymbol{A})$ 或 $\text{ker}(\boldsymbol{A})$。</p>

<p>对于矩阵 $\boldsymbol{A}\ \in \mathbb{R}^{m \times n}$，其零空间定义为：
\(\text{null}(\boldsymbol{A}) = \{\boldsymbol{x} \in \mathbb{R}^n \mid \boldsymbol{A}\boldsymbol{x} = \boldsymbol{0}\}\)
其中 $\boldsymbol{0}$ 是 $m$-维零向量。</p>

<ul>
  <li>零空间是矩阵 $\boldsymbol{A}$ 的齐次线性方程组的解空间，也是矩阵 $\boldsymbol{A}$ 的列空间的补集。</li>
  <li>零空间的维度称为矩阵的零度（nullity），记作 $\text{nullity}(\boldsymbol{A})$。</li>
</ul>

<p>例：</p>

<p>设矩阵 $A$ 为：</p>

\[\boldsymbol{A} = \begin{bmatrix}
1 &amp; 2 \\
3 &amp; 6
\end{bmatrix}\]

<p>则齐次线性方程组 $\boldsymbol{A}\boldsymbol{x} = \boldsymbol{0}$ 为：</p>

\[\begin{cases}
x_1 + 2x_2 = 0 \\
3x_1 + 6x_2 = 0
\end{cases}\]

<p>解得：</p>

\[x_1 = -2x_2\]

<p>因此，解向量为：</p>

\[\boldsymbol{x} = x_3\begin{bmatrix} -2 \\ 1 \end{bmatrix}\]

<p>因此，零空间为：</p>

\[\text{null}(\boldsymbol{A}) = \text{span}\left\{ \begin{bmatrix} -2 \\ 1 \end{bmatrix} \right\}\]

<p>同时，观察到 $\boldsymbol{v}_2 = 2\boldsymbol{v}_1$，因此 $\boldsymbol{v}_1$ 和 $\boldsymbol{v}_2$ 是线性相关的，因此该矩阵的值域 $\text{range}(\boldsymbol{A})$ 由 $\boldsymbol{v}_1$ 张成：</p>

\[\text{range}(\boldsymbol{A}) = \text{span}\left\{ \begin{bmatrix} 1 \\ 3 \end{bmatrix} \right\}\]

<h4 id="145-秩-零度定理"><span class="me-2">1.4.5. 秩-零度定理</span><a href="#145-秩-零度定理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>矩阵的 零空间（Nullspace）和 值域（Range）是矩阵的两个重要子空间，它们之间通过 秩-零度定理（Rank-Nullity Theorem）建立了紧密的联系。</p>

<p>对于矩阵 $\boldsymbol{A} \in \mathbb{R}^{m \times n}$，其秩（rank）和零度（nullity）满足以下关系：
\(\text{rank}(\boldsymbol{A}) + \text{nullity}(\boldsymbol{A}) = n\)
其中：</p>
<ul>
  <li>$\text{rank}(\boldsymbol{A})$ 是矩阵 $\boldsymbol{A}$ 的秩，即值域 $\text{range}(\boldsymbol{A})$ 的维度。</li>
  <li>$\text{nullity}(\boldsymbol{A})$ 是矩阵 $\boldsymbol{A}$ 的零度，即零空间 $\text{null}(\boldsymbol{A})$ 的维度。</li>
  <li>$n$ 是矩阵 $\boldsymbol{A}$ 的列数。</li>
</ul>

<p>零空间和值域之间存在如下性质：</p>

<ol>
  <li><strong>互补性</strong>：
    <ul>
      <li>值域 $\text{range}(\boldsymbol{A})$ 和零空间 $\text{null}(\boldsymbol{A})$ 是互补的子空间。</li>
      <li>值域是矩阵 $\boldsymbol{A}$ 的列空间，表示 $\boldsymbol{A}$ 的列向量的线性组合所能生成的空间。</li>
      <li>零空间是矩阵 $\boldsymbol{A}$ 的齐次线性方程组 $\boldsymbol{A}\boldsymbol{x} = \boldsymbol{0}$ 的解空间。</li>
    </ul>
  </li>
  <li><strong>正交性</strong>：
    <ul>
      <li>
        <p>在 $\mathbb{R}^n$ 中，零空间 $\text{null}(\boldsymbol{A})$ 和值域 $\text{range}(\boldsymbol{A}^\top)$（即 $\boldsymbol{A}$ 的行空间）是正交补空间，即：</p>

\[\begin{aligned}
&amp;\text{null}(\boldsymbol{A}) \perp \text{range}(\boldsymbol{A}^\top)\\
&amp;\text{null}(\boldsymbol{A})\oplus\text{range}(\boldsymbol{A}^\top)=\mathbb{R}^n
\end{aligned}\]
      </li>
      <li>
        <p>类似地，在 $\mathbb{R}^m$ 中，零空间 $\text{null}(\boldsymbol{A}^\top)$ 和值域 $\text{range}(\boldsymbol{A})$ 是正交补空间，即：</p>

\[\begin{aligned}
&amp;\text{null}(\boldsymbol{A}^\top) \perp \text{range}(\boldsymbol{A})\\
&amp;\text{null}(\boldsymbol{A}^\top)\oplus\text{range}(\boldsymbol{A})=\mathbb{R}^m
\end{aligned}\]
      </li>
    </ul>
  </li>
  <li><strong>维度关系</strong>：
    <ul>
      <li>值域的维度 $\text{rank}(\boldsymbol{A})$ 表示矩阵 $\boldsymbol{A}$ 的列向量的线性无关性。</li>
      <li>零空间的维度 $\text{nullity}(\boldsymbol{A})$ 表示齐次线性方程组 $\boldsymbol{A}\boldsymbol{x} = \boldsymbol{0}$ 的自由变量的个数。</li>
      <li>根据秩-零度定理，$\text{rank}(\boldsymbol{A}) + \text{nullity}(\boldsymbol{A}) = n$，表明值域和零空间的维度之和等于矩阵的列数。</li>
    </ul>
  </li>
  <li><strong>几何意义</strong>：
    <ul>
      <li>值域 $\text{range}(\boldsymbol{A})$ 描述了矩阵 $\boldsymbol{A}$ 的“覆盖”程度，即矩阵的列向量能够生成的空间的维度。</li>
      <li>零空间 $\text{null}(\boldsymbol{A})$ 描述了矩阵 $\boldsymbol{A}$ 的“压缩”程度，即有多少线性无关的向量被映射到零向量。</li>
    </ul>
  </li>
</ol>

<h4 id="146-矩阵的秩rank"><span class="me-2">1.4.6. 矩阵的秩（rank）</span><a href="#146-矩阵的秩rank" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>矩阵的 <strong>秩</strong>（Rank）是线性代数中的一个重要概念，用于描述矩阵的列向量（或行向量）的线性无关性。它反映了矩阵所包含的“信息量”或“自由度”。</p>

<p>对于矩阵 $A \in \mathbb{R}^{m \times n}$，其秩定义为：</p>

\[\text{rank}(A) = \dim(\text{range}(A))\]

<p>其中：</p>

<ul>
  <li>$\text{range}(A)$ 是矩阵 $A$ 的值域（列空间）。</li>
  <li>$\dim(\cdot)$ 表示向量空间的维度。</li>
</ul>

<p>换句话说，矩阵的秩是其列向量的极大线性无关组的向量个数。</p>

<p>秩有如下性质：</p>

<ol>
  <li><strong>秩的范围</strong>：
    <ul>
      <li>对于 $m \times n$ 矩阵 $A$，其秩满足：
\(0 \leq \text{rank}(A) \leq \min(m, n)\)</li>
    </ul>
  </li>
  <li><strong>满秩矩阵</strong>：
    <ul>
      <li>如果 $\text{rank}(A) = \min(m, n)$，则称矩阵 $A$ 为 <strong>满秩矩阵</strong>。</li>
      <li>对于方阵 $A \in \mathbb{R}^{n \times n}$，如果 $\text{rank}(A) = n$，则 $A$ 是可逆矩阵。</li>
    </ul>
  </li>
  <li><strong>秩与行列式</strong>：
    <ul>
      <li>对于方阵 $A$，如果 $\text{rank}(A) &lt; n$，则 $\det(A) = 0$（矩阵不可逆）。</li>
      <li>如果 $\text{rank}(A) = n$，则 $\det(A) \neq 0$（矩阵可逆）。</li>
    </ul>
  </li>
</ol>

<h3 id="15-二次型"><span class="me-2">1.5. 二次型</span><a href="#15-二次型" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="151-定义"><span class="me-2">1.5.1. 定义</span><a href="#151-定义" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>向量二次型是一个关于向量的二次齐次多项式。给定方阵 $\boldsymbol{A} \in \mathbb{R}^{n \times n}$ 和向量 $\boldsymbol{x} \in \mathbb{R}^n$，定义二次型为：</p>

\[Q(\boldsymbol{x}) = \boldsymbol{x}^\top \boldsymbol{A} \boldsymbol{x} = \sum_{i=1}^n x_i (\boldsymbol{Ax}_i) = \sum_{i=1}^n  x_i (\sum_{j=1}^n A_{ij} x_j) = \sum_{i=1}^n \sum_{j=1}^n x_i A_{ij} x_j\]

<blockquote>
  <p>在大多数情况下，二次型的定义中要求矩阵 $A$ 是对称矩阵（即 $A = A^\top$）。这是因为</p>
  <ol>
    <li><strong>唯一性</strong>：对于任意矩阵 $A$，可以将其分解为对称部分和反对称部分：
  \(\boldsymbol{A} = \frac{\boldsymbol{A} + \boldsymbol{A}^T}{2} + \frac{\boldsymbol{A} - \boldsymbol{A}^T}{2}\)
其中 $\frac{\boldsymbol{A} + \boldsymbol{A}^T}{2}$ 是对称矩阵，$\frac{\boldsymbol{A} - \boldsymbol{A}^T}{2}$ 是反对称矩阵。</li>
    <li><strong>反对称部分的影响</strong>：反对称矩阵 $\boldsymbol{B} = \frac{\boldsymbol{A} - \boldsymbol{A}^T}{2}$ 满足 $\boldsymbol{x}^T \boldsymbol{B} \boldsymbol{x} = 0$ 对所有 $\boldsymbol{x}$ 成立。因此，反对称部分对二次型的值没有贡献。</li>
    <li><strong>简化分析</strong>：对称矩阵具有许多良好的性质（如实特征值、正交对角化等），这使得二次型的分析更加简便。</li>
  </ol>
</blockquote>

<p>由于向量二次型是一个标量，它的迹就是他本身</p>

\[\text{tr}(\boldsymbol{x}^\top \boldsymbol{A} \boldsymbol{x}) = \boldsymbol{x}^\top \boldsymbol{A} \boldsymbol{x}\]

<blockquote>
  <p>扩展到矩阵形式的二次型，给定 $\boldsymbol{X}\in \mathbb{R}^{n \times m}$， 有</p>

  <p>\(Q(\boldsymbol{X}) = \boldsymbol{X}^\top \boldsymbol{A} \boldsymbol{X} \in \mathbb{R}^{m \times m}\)
且有 $Q(\boldsymbol{X})$ 的第 $(i,j)$ 元素为
\([Q(\boldsymbol{X})]_{ij} = \boldsymbol{x_i}^\top \boldsymbol{A} \boldsymbol{x_j}\)</p>
</blockquote>

<p>二次型的性质包括：</p>

<ol>
  <li>正定性：如果对于所有非零向量 $ x $，都有 $ Q(x) &gt; 0 $，则称二次型是正定的。</li>
  <li>负定性：如果对于所有非零向量 $ x $，都有 $ Q(x) &lt; 0 $，则称二次型是负定的。</li>
  <li>半正定性：如果对于所有向量 $ x $，都有 $ Q(x) \geq 0 $，则称二次型是半正定的。</li>
  <li>半负定性：如果对于所有向量 $ x $，都有 $ Q(x) \leq 0 $，则称二次型是半负定的。</li>
  <li>不定性：如果二次型既不是正定的，也不是负定的，也不是半正定的，也不是半负定的，则称二次型是不定的。</li>
</ol>

<p>二次型在优化理论、控制理论和微分几何等领域都有重要的应用。</p>

<ul>
  <li><strong>例：最小二乘</strong></li>
</ul>

<p>在最小二乘法中，目标是找到向量 $x$ 使得误差的平方和最小。目标函数可以表示为二次型：</p>

\[L(\boldsymbol{w}) = \| \boldsymbol{y} - \boldsymbol{X}\boldsymbol{w}  \|^2 = (\boldsymbol{y} -  \boldsymbol{X}\boldsymbol{w} )^T (\boldsymbol{y} -  \boldsymbol{X}\boldsymbol{w})\]

<p>其中，$\boldsymbol{y}$ 是真实观测矩阵（标签）,$\boldsymbol{w}$ 是权重矩阵，$\boldsymbol{X}$ 是样本矩阵。最小化目标函数可以得到最优解 $\boldsymbol{w}^*$ 以最小化误差的平方和。</p>

<p>展开后得到二次型</p>

\[L(\boldsymbol{w}) = \boldsymbol{y}^T \boldsymbol{y} - 2 \boldsymbol{y}^T \boldsymbol{X} \boldsymbol{w} + \boldsymbol{w}^T \boldsymbol{X}^T \boldsymbol{X} \boldsymbol{w}\]

<p>因为第一项是一个常数项，与$\boldsymbol{w}$无关，可以忽略。第二项是一个线性项，关于 $\boldsymbol{w}$ 是线性的。第三项中 $\boldsymbol{A}^\top \boldsymbol{A}$ 是一个对称矩阵，所以第三项是一个二次型。虽然损失函数还包含线性项和常数项，但这些项并不改变其二次性，因为它们不会改变最优解的性质。</p>

<blockquote>
  <p>对于第三项，令 $\boldsymbol{B} = \boldsymbol{X}^\top\boldsymbol{X}$，参考《the Matrix Cookbook》二次型的导数</p>

\[\frac{\partial \boldsymbol{x}^\top\boldsymbol{B\boldsymbol{x}}}{\partial \boldsymbol{x}} = (\boldsymbol{B}+\boldsymbol{B}^\top)\boldsymbol{x} \tag{81}\]

  <p>若 $\boldsymbol{B}$ 满足 $\boldsymbol{B} = \boldsymbol{B}^\top$，此时有</p>

\[\frac{\partial \boldsymbol{x}^\top\boldsymbol{B\boldsymbol{x}}}{\partial \boldsymbol{x}} = 2\boldsymbol{B}\boldsymbol{x}\]
</blockquote>

<p>如果 $\boldsymbol{X}^\top \boldsymbol{X}$ 是正定矩阵，则损失函数是凸函数，具有唯一的全局最优解，因此可以通过对<strong>二次型求导</strong>并令梯度为零 $\partial L / \partial \boldsymbol{w} = 0$，直接得到最小二乘问题的解析解 $\boldsymbol{w}^* = (\boldsymbol{X}^T \boldsymbol{X})^{-1} \boldsymbol{X}^T \boldsymbol{y}$。</p>

<ul>
  <li><strong>例：Fisher 投影判别的优化目标</strong></li>
</ul>

<p>Fisher 投影判别的的优化目标函数可以写成</p>

\[J(\boldsymbol{w}) = \frac{\boldsymbol{w}^T\boldsymbol{S}_b\boldsymbol{w}}{\boldsymbol{w}^T\boldsymbol{S}_w\boldsymbol{w}}\]

<p>将优化问题更改如下</p>

\[\begin{aligned}
\max &amp;\; \boldsymbol{w}^T\boldsymbol{S}_b\boldsymbol{w}\\
s.t. &amp;\; \boldsymbol{w}^T\boldsymbol{S}_w\boldsymbol{w}=c\neq 0
\end{aligned}\]

<p>通过额外引入一个使得分子等于常数的等式约束来限制 $\boldsymbol{w}$ 的取值，然后通过拉格朗日乘子法求解极大值，定义拉格朗日函数如下</p>

\[\begin{aligned}
L(\boldsymbol{w},\lambda) &amp;= \boldsymbol{w}^\top\boldsymbol{S}_b\boldsymbol{w} - \lambda (\boldsymbol{w}^\top\boldsymbol{S}_w\boldsymbol{w}-c)\\
\Rightarrow \frac{\partial L(\boldsymbol{w},\lambda)}{\partial \boldsymbol{w}} &amp;= 2\boldsymbol{S}_b\boldsymbol{w} - 2\lambda \boldsymbol{S}_w\boldsymbol{w}\\
\end{aligned}\]

<p>同样涉及到<strong>二次型的求导</strong>。</p>

<h4 id="152-与投影的关系"><span class="me-2">1.5.2. 与投影的关系</span><a href="#152-与投影的关系" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>最小二乘的解析解为</p>

\[\boldsymbol{w}^* = (\boldsymbol{X}^T \boldsymbol{X})^{-1} \boldsymbol{X}^T \boldsymbol{y}\]

<p>对应的投影向量为</p>

\[\boldsymbol{p} = \boldsymbol{X} (\boldsymbol{X}^T \boldsymbol{X})^{-1} \boldsymbol{X}^T \boldsymbol{y}\]

<p>有</p>

\[\boldsymbol{p} = \boldsymbol{X} \boldsymbol{w}^*\]

<p>讨论如下：</p>

<ul>
  <li>投影向量 $\boldsymbol{p}$ 描述了真实标签 $\boldsymbol{y}$ 在样本空间 $\boldsymbol{X}$ 中的实际投影。</li>
  <li>二次型的解析解 $\boldsymbol{w}^*$ 描述了如何在样本空间 $\boldsymbol{X}$ 中找到最接近于真实标签 $\boldsymbol{y}$ 的向量，即描述这个“影子”如何由样本空间 $\boldsymbol{X}$ 的列向量组合而成的系数;</li>
</ul>

<h2 id="2-矩阵的梯度"><span class="me-2">2. 矩阵的梯度</span><a href="#2-矩阵的梯度" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="21-多元函数的梯度"><span class="me-2">2.1. 多元函数的梯度</span><a href="#21-多元函数的梯度" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<blockquote>
  <p>https://www.cnblogs.com/bigmonkey/p/8400658.html</p>
</blockquote>

<p><strong>多元函数</strong>是指定义在多维空间上的标量值函数 $f: \mathbb{R}^n \rightarrow \mathbb{R}$。例如，一个二元函数可以表示为 $ f(x, y) $，而一个多元函数可以表示为 $ f(x_1, x_2, \dots, x_n) $。</p>

<p><strong>梯度</strong>是多元函数的一个重要概念，它是一个向量，表示函数在某一点处的最大变化率方向和大小。对于一个多元函数 $ f(x_1, x_2, \dots, x_n) $，其梯度定义为：</p>

\[\nabla f = \left( \frac{\partial f}{\partial x_1}, \frac{\partial f}{\partial x_2}, \dots, \frac{\partial f}{\partial x_n} \right)\]

<p>其中，$ \frac{\partial f}{\partial x_i} $ 是函数 $ f $ 关于变量 $ x_i $ 的偏导数。</p>

<p>梯度有如下性质：</p>

<ol>
  <li><strong>方向性</strong>：梯度的方向是函数在该点处增长最快的方向。</li>
  <li><strong>大小</strong>：梯度的模（即向量的长度）表示函数在该点的最大变化率。</li>
  <li>
    <p><strong>正交性</strong>：在等值面上（即 $ f(x) = c $ 的曲面上），梯度与等值面正交。
<a href="/assets/img/postsimg/20250305/gradient_vertical.png" class="popup img-link "><img data-src="/assets/img/postsimg/20250305/gradient_vertical.png" alt="gradient_vertial" class="lazyload" data-proofer-ignore></a></p>
  </li>
  <li><strong>线性性</strong>：梯度运算满足线性性质，即 $ \nabla (af + bg) = a \nabla f + b \nabla g $，其中 $ a $ 和 $ b $ 是常数。</li>
  <li><strong>与方向导数的关系</strong>：函数在某点沿单位向量 $ \boldsymbol{u} $ 的方向导数可以表示为 $ D_{\boldsymbol{u}} f = \nabla f \cdot \boldsymbol{u} $。</li>
</ol>

<blockquote>
  <p>方向导数是梯度向量的重要应用。$f = f(x, y)$ 的偏导数衡量了点在 $x$ 轴和 $y$ 轴移动时 $f$ 的变化率，在其它任意方向移动的变化率就是方向导数。</p>
</blockquote>

<h3 id="22-向量函数的梯度雅可比矩阵"><span class="me-2">2.2. 向量函数的梯度（雅可比矩阵）</span><a href="#22-向量函数的梯度雅可比矩阵" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>假设有一个函数 $\boldsymbol{f}: \mathbb{R}^n\rightarrow \mathbb{R}^m$，其中 $\boldsymbol{f} = [f_1, f_2,\cdots, f_m]^\top$，每个 $f_i$ 都是关于 $n$ 个输入 $\boldsymbol{x} = [x_1, x_2,\cdots, x_n]^\top$ 的标量函数。那么函数的梯度 $\nabla f$ 就是一个 $m\times n$ 的矩阵，称为<strong>雅可比矩阵</strong>（Jacobian Matrix），其元素是 $\boldsymbol{f}$ 的各个分量对 $\boldsymbol{x}$ 的各个分量的偏导数。</p>

\[J = \nabla \boldsymbol{f} = \begin{bmatrix}
  \frac{\partial f_1}{\partial x_1} &amp; \frac{\partial f_1}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_1}{\partial x_n}\\
  \frac{\partial f_2}{\partial x_2} &amp; \frac{\partial f_2}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_2}{\partial x_n}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  \frac{\partial f_m}{\partial x_1} &amp; \frac{\partial f_m}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_m}{\partial x_n}
\end{bmatrix}\]

<p>例，假设有一个函数 $\boldsymbol{f}: \mathbb{R}^2\rightarrow \mathbb{R}^2$，定义为</p>

\[\boldsymbol{f} = \begin{bmatrix}
  f_1\\
  f_2
\end{bmatrix} = \begin{bmatrix}
  x_1^2 + x_2^2\\
  x_1 x_2
\end{bmatrix}\]

<p>那么雅可比矩阵 $J$ 为</p>

\[J = \begin{bmatrix}
  2x_1 &amp; 2x_2\\
  x_2 &amp; x_1
\end{bmatrix}\]

<h3 id="23-矩阵函数的梯度"><span class="me-2">2.3. 矩阵函数的梯度</span><a href="#23-矩阵函数的梯度" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>矩阵梯度是多元函数和向量函数梯度概念的推广，用于处理矩阵变量的函数。对于一个关于矩阵 $\boldsymbol{X}$ 的标量函数 $f(\boldsymbol{X})$，其矩阵梯度定义为一个与 $\boldsymbol{X}$ 同维度的矩阵，其每个元素为函数 $f$ 对矩阵 $\boldsymbol{X}$ 中对应元素的偏导数。</p>

<p>假设函数 $f: \mathbb{R}^{m\times n}\rightarrow \mathbb{R}$ 的输入为矩阵 $\boldsymbol{X}\in\mathbb{R}^{m\times n}$，输出为一个实数，则矩阵梯度定义为：</p>

\[\nabla_{\boldsymbol{X}} f(\boldsymbol{X}) = \begin{bmatrix}
  \frac{\partial f}{\partial X_{11}} &amp; \frac{\partial f}{\partial X_{12}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{1n}}\\
  \frac{\partial f}{\partial X_{21}} &amp; \frac{\partial f}{\partial X_{22}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{2n}}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  \frac{\partial f}{\partial X_{m1}} &amp; \frac{\partial f}{\partial X_{m2}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{mn}}
\end{bmatrix}\in\mathbb{R}^{m\times n}\]

<p>矩阵梯度有如下性质：</p>

<ol>
  <li>
    <p><strong>线性性质</strong>：<br />
若 $ f(\boldsymbol{X}) $ 和 $ g(\boldsymbol{X}) $ 是关于矩阵 $ \boldsymbol{X} $ 的标量函数，$ a $ 和 $ b $ 是常数，则有：
\(\nabla_{\boldsymbol{X}} (af + bg) = a \nabla_{\boldsymbol{X}} f + b \nabla_{\boldsymbol{X}} g\)</p>
  </li>
  <li>
    <p><strong>矩阵乘积的梯度</strong>：<br />
若 $ \boldsymbol{A} $ 和 $ \boldsymbol{B} $ 是与 $ \boldsymbol{X} $ 无关的矩阵，则：</p>

\[\nabla_{\boldsymbol{X}} \text{tr}(\boldsymbol{A} \boldsymbol{X} \boldsymbol{B}) = \boldsymbol{A}^T \boldsymbol{B}^T\]

    <p>其中，$\text{tr}(\cdot)$ 表示矩阵的迹。</p>
  </li>
  <li>
    <p><strong>二次型的梯度</strong>（等价于二次型迹的梯度）：<br />
对于二次型函数 $ f(\boldsymbol{x}) = \boldsymbol{x}^T \boldsymbol{A} \boldsymbol{x} $，其梯度为：</p>

\[\nabla_{\boldsymbol{x}} f(\boldsymbol{x}) = \boldsymbol{A} \boldsymbol{x} + \boldsymbol{A}^T \boldsymbol{x}\]

    <p>当 $ \boldsymbol{A} $ 是对称矩阵时，梯度简化为 $ 2\boldsymbol{A} \boldsymbol{x} $。</p>

    <blockquote>
      <p>展开二次型：</p>

\[Q(\boldsymbol{x}) = \sum_{i=1}^n \sum_{j=1}^n a_{ij} x_i x_j\]

      <p>对 $\boldsymbol{x}$ 求偏导数：</p>

\[\begin{aligned}
\frac{\partial Q(\boldsymbol{x})}{\partial x_k} &amp;= \sum_{j=1}^n a_{kj} x_j + \sum_{i=1}^n a_{ik} x_i\\
&amp;= \boldsymbol{A} \boldsymbol{x} + \boldsymbol{A}^T \boldsymbol{x}
\end{aligned}\]

      <p>若 $\boldsymbol{A}$ 是对称矩阵（$a_{ij} = a_{ji}$），上式可以简化为：</p>

\[\frac{\partial Q(\boldsymbol{x})}{\partial x_k} = 2 \sum_{j=1}^n a_{kj} x_j\]

      <p>将偏导数写成向量形式：</p>

\[\nabla Q(\boldsymbol{x}) = 2 \boldsymbol{A} \boldsymbol{x}\]
    </blockquote>
  </li>
</ol>

<h3 id="24-分子布局与分母布局"><span class="me-2">2.4. 分子布局与分母布局</span><a href="#24-分子布局与分母布局" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>在矩阵微积分中，分子布局（numerator layout）和分母布局（denominator layout）是两种常见的约定，用于定义向量和矩阵的导数，这两种布局的主要区别在于导数的表示形式和维度的安排。</p>

<h4 id="241-分子布局"><span class="me-2">2.4.1. 分子布局</span><a href="#241-分子布局" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>在分子布局中，导数的维度与分子的维度一致，以分子为列向量，分母为行向量。具体来说：</p>

<ol>
  <li><strong>标量对向量的导数</strong>：
    <ul>
      <li>如果 $f: \mathbb{R}^n \to \mathbb{R}$ 是一个标量函数（多元函数），$\boldsymbol{x} \in \mathbb{R}^n$ 是一个向量，那么导数 $\frac{\partial f}{\partial \boldsymbol{x}}$ 是一个行向量：
\(\frac{\partial f}{\partial \boldsymbol{x}} = \begin{bmatrix} \frac{\partial f}{\partial x_1} &amp; \frac{\partial f}{\partial x_2} &amp; \cdots &amp; \frac{\partial f}{\partial x_n} \end{bmatrix}\)</li>
    </ul>
  </li>
  <li><strong>向量对向量的导数</strong>：
    <ul>
      <li>如果 $\boldsymbol{f}: \mathbb{R}^n \to \mathbb{R}^m$ 是一个向量函数，$\boldsymbol{x} \in \mathbb{R}^n$ 是一个向量，那么导数 $\frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}}$ 是一个 $m \times n$ 的矩阵：
\(\frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}} = \begin{bmatrix}
\frac{\partial f_1}{\partial x_1} &amp; \frac{\partial f_1}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_1}{\partial x_n} \\
\frac{\partial f_2}{\partial x_1} &amp; \frac{\partial f_2}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_2}{\partial x_n} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
\frac{\partial f_m}{\partial x_1} &amp; \frac{\partial f_m}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_m}{\partial x_n}
\end{bmatrix}\)</li>
    </ul>
  </li>
</ol>

<h4 id="242-分母布局"><span class="me-2">2.4.2. 分母布局</span><a href="#242-分母布局" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>在分母布局中，导数的维度与分母的维度一致，以分母为列向量，分子为行向量。具体来说：</p>

<ol>
  <li><strong>标量对向量的导数</strong>：
    <ul>
      <li>如果 $f: \mathbb{R}^n \to \mathbb{R}$ 是一个标量函数（多元函数），$\boldsymbol{x} \in \mathbb{R}^n$ 是一个向量，那么导数 $\frac{\partial f}{\partial \boldsymbol{x}}$ 是一个列向量：
\(\frac{\partial f}{\partial \boldsymbol{x}} = \begin{bmatrix} \frac{\partial f}{\partial x_1} \\ \frac{\partial f}{\partial x_2} \\ \vdots \\ \frac{\partial f}{\partial x_n} \end{bmatrix}\)</li>
    </ul>
  </li>
  <li><strong>向量对向量的导数</strong>：
    <ul>
      <li>如果 $\boldsymbol{f}: \mathbb{R}^n \to \mathbb{R}^m$ 是一个向量函数，$\boldsymbol{x} \in \mathbb{R}^n$ 是一个向量，那么导数 $\frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}}$ 是一个 $n \times m$ 的矩阵：
\(\frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}} = \begin{bmatrix}
\frac{\partial f_1}{\partial x_1} &amp; \frac{\partial f_2}{\partial x_1} &amp; \cdots &amp; \frac{\partial f_m}{\partial x_1} \\
\frac{\partial f_1}{\partial x_2} &amp; \frac{\partial f_2}{\partial x_2} &amp; \cdots &amp; \frac{\partial f_m}{\partial x_2} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
\frac{\partial f_1}{\partial x_n} &amp; \frac{\partial f_2}{\partial x_n} &amp; \cdots &amp; \frac{\partial f_m}{\partial x_n}
\end{bmatrix}\)</li>
    </ul>
  </li>
</ol>

<p>选择分子布局还是分母布局通常取决于具体的应用场景和习惯。在机器学习和优化领域，分子布局更为常见，因为它与雅可比矩阵的定义一致。而在一些工程和物理领域，分母布局可能更为常见。</p>

<h3 id="25-向量函数矩阵函数梯度的链式法则"><span class="me-2">2.5. 向量函数/矩阵函数梯度的链式法则</span><a href="#25-向量函数矩阵函数梯度的链式法则" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>分子布局和分母布局在矩阵函数或向量值函数的链式法则求导中会影响导数的表示形式和计算方式，链式法则的应用会根据布局的不同而有所调整。</p>

<h4 id="251-基本形式"><span class="me-2">2.5.1. 基本形式</span><a href="#251-基本形式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>链式法则用于计算复合函数的导数。假设有两个函数：</p>

<ul>
  <li>$\mathbf{y} = \mathbf{f}(\mathbf{u})$，其中 $\mathbf{f}: \mathbb{R}^m \to \mathbb{R}^p$</li>
  <li>$\mathbf{u} = \mathbf{g}(\mathbf{x})$，其中 $\mathbf{g}: \mathbb{R}^n \to \mathbb{R}^m$</li>
</ul>

<p>复合函数为 $\mathbf{y} = \mathbf{f}(\mathbf{g}(\mathbf{x}))$，其导数可以通过链式法则计算：</p>

\[\frac{\partial \mathbf{y}}{\partial \mathbf{x}} = \frac{\partial \mathbf{y}}{\partial \mathbf{u}} \cdot \frac{\partial \mathbf{u}}{\partial \mathbf{x}}\]

<p>这里的关键是 $\frac{\partial \mathbf{y}}{\partial \mathbf{u}}$ 和 $\frac{\partial \mathbf{u}}{\partial \mathbf{x}}$ 的维度安排，这取决于使用的是分子布局还是分母布局。</p>

<h4 id="252-分子布局下的链式法则"><span class="me-2">2.5.2. 分子布局下的链式法则</span><a href="#252-分子布局下的链式法则" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>在分子布局中，导数的维度与分子的维度一致。具体来说：</p>

<ul>
  <li>$\frac{\partial \mathbf{y}}{\partial \mathbf{u}}$ 是一个 $p \times m$ 的矩阵。</li>
  <li>$\frac{\partial \mathbf{u}}{\partial \mathbf{x}}$ 是一个 $m \times n$ 的矩阵。</li>
</ul>

<p>因此，链式法则的矩阵乘法形式为：</p>

\[\frac{\partial \mathbf{y}}{\partial \mathbf{x}} = \frac{\partial \mathbf{y}}{\partial \mathbf{u}} \cdot \frac{\partial \mathbf{u}}{\partial \mathbf{x}}\]

<p>其中：</p>

<ul>
  <li>$\frac{\partial \mathbf{y}}{\partial \mathbf{x}}$ 是一个 $p \times n$ 的矩阵。</li>
  <li>矩阵乘法的顺序是 $p \times m$ 乘以 $m \times n$，结果维度为 $p \times n$。</li>
</ul>

<h4 id="253-分母布局下的链式法则"><span class="me-2">2.5.3. 分母布局下的链式法则</span><a href="#253-分母布局下的链式法则" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>在分母布局中，导数的维度与分母的维度一致。具体来说：</p>
<ul>
  <li>$\frac{\partial \mathbf{y}}{\partial \mathbf{u}}$ 是一个 $m \times p$ 的矩阵。</li>
  <li>$\frac{\partial \mathbf{u}}{\partial \mathbf{x}}$ 是一个 $n \times m$ 的矩阵。</li>
</ul>

<p>因此，链式法则的矩阵乘法形式为：
\(\frac{\partial \mathbf{y}}{\partial \mathbf{x}} = \frac{\partial \mathbf{u}}{\partial \mathbf{x}} \cdot \frac{\partial \mathbf{y}}{\partial \mathbf{u}}\)
其中：</p>
<ul>
  <li>$\frac{\partial \mathbf{y}}{\partial \mathbf{x}}$ 是一个 $n \times p$ 的矩阵。</li>
  <li>矩阵乘法的顺序是 $n \times m$ 乘以 $m \times p$，结果维度为 $n \times p$。</li>
</ul>

<h4 id="254-举例"><span class="me-2">2.5.4. 举例</span><a href="#254-举例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>给定定常值矩阵 $\boldsymbol{A}\in \mathbb{R}^{m\times n}$ 和变量向量 $\boldsymbol{x}\in \mathbb{R}^n$，设函数 $f:\mathbb{R}^m\rightarrow \mathbb{R}$ 定义式为 $f(\boldsymbol{z})=\boldsymbol{z}^\top \boldsymbol{z}$，求 $\nabla f(\boldsymbol{A}\boldsymbol{x})$。</p>

<p>首先，题目实际要求解 $\nabla_{\boldsymbol{x}} f(\boldsymbol{A}\boldsymbol{x})$（明确梯度下标）；</p>

<ul>
  <li><strong>分子布局下的计算过程</strong></li>
</ul>

<p>计算 $\nabla_{\boldsymbol{z}} f(\boldsymbol{z})$，按照分子布局有</p>

\[\begin{aligned}
f(\boldsymbol{z}) &amp;= \sum_{i=1}^m z_i^2\\
\nabla_{\boldsymbol{z}} f(\boldsymbol{z}) &amp;= (\frac{\partial f}{\partial z_1}, \frac{\partial f}{\partial z_2}, \cdots, \frac{\partial f}{\partial z_m})= 2\boldsymbol{z}^\top \in \mathbb{R}^{1\times m}
\end{aligned}\]

<p>令 $\boldsymbol{z} = g(\boldsymbol{x}) = \boldsymbol{Ax}$，可以看出其为向量函数，其梯度为（分子布局，也即 Jacobian 矩阵形式）</p>

\[\begin{aligned}
\frac{\partial \boldsymbol{z}}{\partial \boldsymbol{x}} &amp;= \begin{bmatrix}
  \frac{\partial \boldsymbol{z}}{\partial x_1} &amp; \frac{\partial \boldsymbol{z}}{\partial x_2} &amp; \cdots &amp; \frac{\partial \boldsymbol{z}}{\partial x_n}
\end{bmatrix}\\
&amp;=\begin{bmatrix}
  \frac{\partial z_1}{\partial x_1} &amp; \frac{\partial z_1}{\partial x_2} &amp; \cdots &amp; \frac{\partial z_1}{\partial x_n}\\
  \frac{\partial z_2}{\partial x_2} &amp; \frac{\partial z_2}{\partial x_2} &amp; \cdots &amp; \frac{\partial z_2}{\partial x_n}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  \frac{\partial z_m}{\partial x_1} &amp; \frac{\partial z_m}{\partial x_2} &amp; \cdots &amp; \frac{\partial z_m}{\partial x_n}
\end{bmatrix} = \boldsymbol{A}\in \mathbb{R}^{m\times n}\\
\end{aligned}\]

<p>链式法则如下</p>

\[\nabla_{\boldsymbol{x}} f(\boldsymbol{A}\boldsymbol{x}) = \nabla_{\boldsymbol{z}} f(\boldsymbol{z}) \cdot \frac{\partial \boldsymbol{z}}{\partial \boldsymbol{x}} = 2\boldsymbol{z}^\top  \cdot \boldsymbol{A}\in \mathbb{R}^{1\times n}\]

<ul>
  <li><strong>分母布局下的计算过程</strong></li>
</ul>

<p>计算 $\nabla_{\boldsymbol{z}} f(\boldsymbol{z})$，按照分子布局有</p>

\[\begin{aligned}
f(\boldsymbol{z}) &amp;= \sum_{i=1}^m z_i^2\\
\nabla_{\boldsymbol{z}} f(\boldsymbol{z}) &amp;= (\frac{\partial f}{\partial z_1}, \frac{\partial f}{\partial z_2}, \cdots, \frac{\partial f}{\partial z_m})^\top= 2\boldsymbol{z} \in \mathbb{R}^{m\times 1}
\end{aligned}\]

<p>令 $\boldsymbol{z} = g(\boldsymbol{x}) = \boldsymbol{Ax}$，可以看出其为向量函数，其梯度为（分母布局）</p>

\[\begin{aligned}
\frac{\partial \boldsymbol{z}}{\partial \boldsymbol{x}} &amp;= \begin{bmatrix}
  \frac{\partial \boldsymbol{z}}{\partial x_1} &amp; \frac{\partial \boldsymbol{z}}{\partial x_2} &amp; \cdots &amp; \frac{\partial \boldsymbol{z}}{\partial x_n}
\end{bmatrix}\\
&amp;=\begin{bmatrix}
  \frac{\partial z_1}{\partial x_1} &amp; \frac{\partial z_2}{\partial x_1} &amp; \cdots &amp; \frac{\partial z_m}{\partial x_1}\\
  \frac{\partial z_1}{\partial x_2} &amp; \frac{\partial z_2}{\partial x_2} &amp; \cdots &amp; \frac{\partial z_m}{\partial x_2}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  \frac{\partial z_1}{\partial x_n} &amp; \frac{\partial z_2}{\partial x_n} &amp; \cdots &amp; \frac{\partial z_m}{\partial x_n}
\end{bmatrix} = \boldsymbol{A}^\top\in \mathbb{R}^{n\times m}\\
\end{aligned}\]

<p>链式法则如下</p>

\[\nabla_{\boldsymbol{x}} f(\boldsymbol{A}\boldsymbol{x}) =\frac{\partial \boldsymbol{z}}{\partial \boldsymbol{x}} \cdot \nabla_{\boldsymbol{z}} f(\boldsymbol{z})  = \boldsymbol{A}^\top  \cdot 2\boldsymbol{z}\in \mathbb{R}^{n\times 1}\]

<h2 id="3-矩阵的全微分"><span class="me-2">3. 矩阵的全微分</span><a href="#3-矩阵的全微分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="31-多元函数的全微分"><span class="me-2">3.1. 多元函数的全微分</span><a href="#31-多元函数的全微分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>全微分描述了函数 $f(\boldsymbol{x})$ 在某点 $\boldsymbol{x}$ 处的微小变化 $\text{d}f$ 与自变量微小变化 $d\boldsymbol{x}=[dx_1, dx_2, \cdots, dx_n]^T$ 的关系，定义为</p>

\[\begin{aligned}
\text{d}f &amp;= \frac{\partial f}{\partial x_1} dx_1 + \frac{\partial f}{\partial x_2} dx_2 + \cdots + \frac{\partial f}{\partial x_n} dx_n\\
 &amp;= \nabla f(\boldsymbol{x})^\top d\boldsymbol{x}\\
\end{aligned}\]

<p>解释</p>

<ul>
  <li>梯度 $ \nabla f(\boldsymbol{x})$ 描述了函数 $f$ 在某一点 $x$ 处对各个自变量的变化率。</li>
  <li>全微分 $\text{d}f$ 描述了函数 $f$ 在某一点 $x$ 处的微小变化，是梯度与自变量微小变化的线性组合。</li>
</ul>

<p>几何意义：</p>

<ul>
  <li>梯度 $ \nabla f(\boldsymbol{x})$ 是函数值变化最剧烈的方向。</li>
  <li>全微分是函数值在方向 $d\boldsymbol{x}$ 上的变化量，等于梯度在该方向上的投影。</li>
</ul>

<h3 id="32-矩阵函数的全微分"><span class="me-2">3.2. 矩阵函数的全微分</span><a href="#32-矩阵函数的全微分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>回顾矩阵函数 $f: \mathbb{R}^{m\times n}\rightarrow \mathbb{R}$，输入为矩阵 $\boldsymbol{X}\in\mathbb{R}^{m\times n}$，输出为一个实数。</p>

<p>其全微分 $df$ 定义为：</p>

\[\text{d}f = \sum_{i=1}^m\sum_{j=1}^n \frac{\partial f}{\partial X_{ij}} dX_{ij}\]

<p>将其展开书写为</p>

\[\begin{aligned}
\text{d}f(\boldsymbol{X}) =&amp; \frac{\partial f}{\partial X_{11}} dX_{11} + \frac{\partial f}{\partial X_{12}} dX_{12} + \cdots + \frac{\partial f}{\partial X_{1n}} dX_{1n}+\\
&amp;\frac{\partial f}{\partial X_{21}} dX_{21} + \frac{\partial f}{\partial X_{22}} dX_{22} + \cdots + \frac{\partial f}{\partial X_{2n}} dX_{2n}+\\
&amp;\vdots\\
&amp;\frac{\partial f}{\partial X_{m1}} dX_{m1} + \frac{\partial f}{\partial X_{m2}} dX_{m2} + \cdots + \frac{\partial f}{\partial X_{mn}} dX_{mn}+\\
\end{aligned}\]

<p>回顾矩阵函数的梯度如下</p>

\[\nabla_{\boldsymbol{X}} f(\boldsymbol{X}) = \begin{bmatrix}
  \frac{\partial f}{\partial X_{11}} &amp; \frac{\partial f}{\partial X_{12}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{1n}}\\
  \frac{\partial f}{\partial X_{21}} &amp; \frac{\partial f}{\partial X_{22}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{2n}}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  \frac{\partial f}{\partial X_{m1}} &amp; \frac{\partial f}{\partial X_{m2}} &amp; \cdots &amp; \frac{\partial f}{\partial X_{mn}}
\end{bmatrix}\in\mathbb{R}^{m\times n}\]

<p>定义矩阵 $\boldsymbol{X}$ 的微分为</p>

\[\text{d}\boldsymbol{X} = \begin{bmatrix}
  dX_{11} &amp; dX_{12} &amp; \cdots &amp; dX_{1n}\\
  dX_{21} &amp; dX_{22} &amp; \cdots &amp; dX_{2n}\\
  \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
  dX_{m1} &amp; dX_{m2} &amp; \cdots &amp; dX_{mn}
\end{bmatrix}\in\mathbb{R}^{m\times n}\]

<p>可以将全微分用矩阵的形式表示为</p>

\[\text{d}f(\boldsymbol{X}) = \text{tr}(\nabla_{\boldsymbol{X}} f(\boldsymbol{X})^\top d\boldsymbol{X})\]

<p>利用上述等式，可以计算复杂的矩阵函数的梯度求解。基本套路如下：</p>

<ul>
  <li>首先确认 $f$ 是矩阵函数（输出为标量）</li>
  <li>改写等式左边：$\text{d}f(\boldsymbol{X}) = \text{tr}(\text{d}f(\boldsymbol{X}))$</li>
  <li>改写等式右边，使用迹的性质和常见的微分性质凑出 $\text{tr}([\cdot] \text{d}(\boldsymbol{X}))$</li>
  <li>则括号内 $[\cdot]$ 部分记为矩阵函数梯度的转置（或其一项），将其再次转置迹可得到矩阵函数的梯度。</li>
</ul>

<p><strong>题目1:证明</strong></p>

\[\frac{\partial{\text{tr}(\boldsymbol{X}^\top \boldsymbol{X})}}{\partial{\boldsymbol{X}}} = 2\boldsymbol{X}\]

<p>证明过程</p>

\[\begin{aligned}
\text{d} (\text{tr}(\boldsymbol{X}^\top \boldsymbol{X})) &amp;= \text{tr}(\text{d}(\boldsymbol{X}^\top \boldsymbol{X}))\\
&amp;= \text{tr}(\text{d}(\boldsymbol{X}^\top)\boldsymbol{X}) + \text{tr}(\boldsymbol{X}^\top \text{d}(\boldsymbol{X}))\\
&amp;= \text{tr}(\boldsymbol{X}^\top \text{d}(\boldsymbol{X})) + \text{tr}(\boldsymbol{X}^\top \text{d}(\boldsymbol{X}))\\
&amp;= 2\text{tr}(\boldsymbol{X}^\top \text{d}(\boldsymbol{X}))\\
\Rightarrow &amp;\frac{\partial \text{tr}(\boldsymbol{X}^\top \boldsymbol{X})}{\partial \boldsymbol{X}^\top} = 2\boldsymbol{X}^\top\\
\Rightarrow &amp;\frac{\partial \text{tr}(\boldsymbol{X}^\top \boldsymbol{X})}{\partial \boldsymbol{X}} = 2\boldsymbol{X}
\end{aligned}\]

<p>上述推导中用到的性质有</p>

\[\begin{aligned}
&amp; \text{d}( \text{tr}(X)) = \text{tr}(\text{d}(X))\\
&amp; \text{d}(XY) = \text{d}(X)Y + X\text{d}(Y)\\
&amp; \text{tr}(AB) = \text{tr}(BA)
\end{aligned}\]

<p><strong>题目2：求</strong></p>

\[\frac{\partial{(\boldsymbol{a}^\top\boldsymbol{X}\boldsymbol{X}^\top\boldsymbol{b})}}{\partial(\boldsymbol{X})}\]

<p>解</p>

\[\begin{aligned}
d(a^T XX^T b) &amp;= \text{tr}(d(a^T XX^T b))\\
&amp;= \text{tr}(a^T d(XX^T)b)\\
&amp;= \text{tr}(a^T [d(X)X^T + Xd(X^T)]b)\\
&amp;= \text{tr}(a^T d(X)X^T b) + \text{tr}(a^T Xd(X^T)b)\\
&amp;= \text{tr}(X^T ba^T d(X)) + \text{tr}((a^T Xd(X^T)b)^T)\\
&amp;= \text{tr}(X^T ba^T d(X)) + \text{tr}(b^T d(X)X^T a)\\
&amp;= \text{tr}(X^T ba^T d(X)) + \text{tr}(X^T ab^T d(X))\\
&amp;\Rightarrow \frac{\partial (a^T XX^T b)}{\partial X^T} = X^T ba^T + X^T ab^T\\
&amp;\Rightarrow \frac{\partial (a^T XX^T b)}{\partial X} = ab^T X + ba^T X
\end{aligned}\]

<p>上述推导中用到的性质有</p>

\[d \text{tr}(X) = \text{tr}(dX)\]

\[X \in \mathbb{R}^{m,n}, d(A_{p,m} X B_{n,p}) = A d(X) B\]

\[d(XY) = (dX)Y + X(dY)\]

\[\text{tr}(A + B) = \text{tr}A + \text{tr}B\]

\[\text{tr}A = \text{tr}A^T \quad \text{tr}AB = \text{tr}BA\]

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href='/categories/academic/'>Academic</a>,
      <a href='/categories/knowledge/'>Knowledge</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/deep-learning/"
          class="post-tag no-text-decoration" >deep learning</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        本文由作者按照 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         进行授权

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">分享</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86%EF%BC%89%20-%20SIRLIS&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fdeep-learning-basic-math%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86%EF%BC%89%20-%20SIRLIS&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fdeep-learning-basic-math%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fdeep-learning-basic-math%2F&text=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86%EF%BC%89%20-%20SIRLIS"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <i
      id="copy-link"
      class="fa-fw fas fa-link small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="分享链接"
      data-title-succeed="链接已复制！"
    >
    </i>
  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      <!-- Get the last 5 posts from lastmod list. -->














  <div id="access-lastmod" class="post">
    <div class="panel-heading">最近更新</div>
    <ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/reinforcement-learning-Value-Approximation/">强化学习（值函数近似）</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/reinforcement-learning-markov-process/">强化学习（马尔可夫决策过程）</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/reinforcement-learning-Monte-Carlo/">强化学习（蒙特卡洛法）</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/reinforcement-learning-Temporal-Differences/">强化学习（时序差分法）</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/vscode-c/">VSCode部署C/C++开发环境</a>
        </li>
      
    </ul>
  </div>
  <!-- #access-lastmod -->


      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">热门标签</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/deep-learning/">deep learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fuzzy/">fuzzy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vscode/">vscode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/reinforcement-learning/">reinforcement learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/other/">other</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/astronomy/">astronomy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c-c/">c/c++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/computer-vision/">computer vision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/meta-learning/">meta learning</a>
      
    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">文章内容</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!--
  Recommend the other 3 posts according to the tags and categories of the current post,
  if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->








  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  






<!-- Fill with the other newlest posts -->





  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      相关文章
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        
        
        <div class="col">
          <a href="/posts/deep-learning-basic-hp-and-opt/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1592036659"
  data-df="YYYY/MM/DD"
  
>
  2020/06/13
</em>

              <h4 class="pt-0 my-2" data-toc-skip>深度学习基础（基本超参数和优化器）</h4>
              <div class="text-muted small">
                <p>
                  





                  本文介绍了深度学习中的基本概念，包括 batch、epoch、iteration、optimizer等，其中优化器包括 BGD、SGD、Adam等，为后深度学习提供基础。






  1. 基本超参数
    
      1.1. epoch
      1.2. batch \&amp;amp; batch_size
      1.3. iteration
    
  
  2. 优化器...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/deep-learning-basic-conv2d/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1592123059"
  data-df="YYYY/MM/DD"
  
>
  2020/06/14
</em>

              <h4 class="pt-0 my-2" data-toc-skip>深度学习基础（PyTorch的CNN组成）</h4>
              <div class="text-muted small">
                <p>
                  





                  本文介绍了深度学习中，卷积网络的基本知识，包括2d卷积层、池化层、线性层、softmax 激活函数、交叉熵损失函数等，并结合它们在 Pytorch 中的定义和实现进行说明。






  1. 层
    
      1.1. Conv2d
        
          1.1.1. dilation
          1.1.2. padding
        
     ...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/deep-learning-basic-dataloader/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1592295859"
  data-df="YYYY/MM/DD"
  
>
  2020/06/16
</em>

              <h4 class="pt-0 my-2" data-toc-skip>深度学习基础（PyTorch的数据集）</h4>
              <div class="text-muted small">
                <p>
                  





                  本文介绍了 Pytorch 中针对计算机视觉方面的基本数据库类Dataset，基本的手写数字数据库MNIST，以及数据库加载函数 DataLoader。






  1. torchvision
  2. Dataset
    
      2.1. 默认类
      2.2. 自定义类
    
  
  3. DataLoader
  4. MNIST
  5. 参考文献


1...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <a
      href="/posts/Pattern-Recognition-LDA&PCA/"
      class="btn btn-outline-primary"
      prompt="上一篇"
    >
      <p>模式识别（LDA和PCA）</p>
    </a>
  

  
    <div
      class="btn btn-outline-primary disabled"
      prompt="下一篇"
    >
      <p>-</p>
    </div>
  
</div>

      
        
        <!--  The comments switcher -->

  
  <!-- https://utteranc.es/ -->
<script src="https://utteranc.es/client.js"
        repo="sirlis/sirlis.github.io"
        issue-term="pathname"
        crossorigin="anonymous"
        async>
</script>

<script type="text/javascript">
  $(function() {
    const origin = "https://utteranc.es";
    const iframe = "iframe.utterances-frame";
    const lightTheme = "github-light";
    const darkTheme = "github-dark";
    let initTheme = lightTheme;

    if ($("html[data-mode=dark]").length > 0
        || ($("html[data-mode]").length == 0
            && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      initTheme = darkTheme;
    }

    addEventListener("message", (event) => {
      let theme;

      /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */
      if (event.origin === origin) {
        /* page initial */
        theme = initTheme;

      } else if (event.source === window && event.data &&
            event.data.direction === ModeToggle.ID) {
        /* global theme mode changed */
        const mode = event.data.message;
        theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme);

      } else {
        return;
      }

      const message = {
        type: "set-theme",
        theme: theme
      };

      const utterances = document.querySelector(iframe).contentWindow;
      utterances.postMessage(message, origin);
    });

  });
</script>



      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">热门标签</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/deep-learning/">deep learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fuzzy/">fuzzy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vscode/">vscode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/reinforcement-learning/">reinforcement learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/other/">other</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/astronomy/">astronomy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c-c/">c/c++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/computer-vision/">computer vision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/meta-learning/">meta learning</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>本站采用 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 主题 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2025
        <a href="https://github.com/sirlis">sirlis</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。"
          >保留部分权利。</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow">
      <i class="fas fa-angle-up"></i>
    </button>

    
      <div
        id="notification"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        data-bs-animation="true"
        data-bs-autohide="false"
      >
        <div class="toast-header">
          <button
            type="button"
            class="btn-close ms-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">发现新版本的内容。</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            更新
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/zh.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>


  <!-- MathJax -->
  <script>
    /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */
    MathJax = {
      tex: {
        /* start/end delimiter pairs for in-line math */
        inlineMath: [
          ['$', '$'],
          ['\\(', '\\)']
        ],
        /* start/end delimiter pairs for display math */
        displayMath: [
          ['$$', '$$'],
          ['\\[', '\\]']
        ]
      }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script>





    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

